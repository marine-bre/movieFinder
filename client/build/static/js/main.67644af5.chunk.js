(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),s=c.n(a),r=c(21),i=c.n(r),o=c(6),l=c(12),d=c(120),j=c(63),b=function(e){var t=e.genres,c=e.setGenres,s=e.setInDuration,r=e.setInGenre,i=Object(a.useRef)(),o=Object(a.useRef)(),b=function(e){t.includes(e.target.id)?c(t.filter((function(t){return t!==e.target.id}))):c([].concat(Object(l.a)(t),[e.target.id]))};console.log(t);Object(a.useEffect)((function(){t.length>=4||t.includes("all")?i.current.disabled=!1:i.current.disabled=!0}));var u=["Action","Adventure","Fantasy","Sci-Fi","Drama","Mystery","War","Romance","Comedy","Horror","History","Animation","Thriller","Crime","Documentary","Family"];return Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsxs)("h1",{children:["Choose at least 4 ",Object(n.jsx)("br",{}),"categories of movies"]}),Object(n.jsxs)(d.a,{className:"form-style",children:[Object(n.jsx)(d.a.Group,{ref:o,children:[28,12,14,878,18,9648,10752,10749,35,27,36,16,53,80,99,10751].map((function(e,t){return Object(n.jsx)(d.a.Check,{type:"checkbox",label:u[t],id:e,onChange:b},e)}))}),Object(n.jsx)(j.a,{children:Object(n.jsx)(d.a.Check,{type:"checkbox",label:"I don't mind!",id:"all",onChange:function(e){if(!0===e.target.checked){for(var t=0;t<o.current.childNodes.length;t++)o.current.childNodes[t].childNodes[0].checked=!1,o.current.childNodes[t].childNodes[0].disabled=!0;c(["all"])}if(!1===e.target.checked){for(var n=0;n<o.current.childNodes.length;n++)o.current.childNodes[n].childNodes[0].disabled=!1;c([])}}})})]}),Object(n.jsx)("button",{className:"btn",type:"submit",ref:i,onClick:function(){r(!1),s(!0)},children:"Next"})]})};var u=function(e){var t=e.year,c=e.setYear,s=e.setInYear,r=e.setIsFinished,i=Object(a.useRef)(),o=Object(a.useRef)(),b=function(e){return t.includes(e.target.id)?c(t.filter((function(t){return t!==e.target.id}))):c([].concat(Object(l.a)(t),[e.target.id]))};return Object(a.useEffect)((function(){t.length>0&&t.length<=2||t.includes("all")?i.current.disabled=!1:i.current.disabled=!0})),Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsxs)("h1",{children:["How old/recent do you ",Object(n.jsx)("br",{})," want the movie to be?"]}),Object(n.jsxs)(d.a,{className:"form-style",children:[Object(n.jsxs)(d.a.Group,{ref:o,children:[Object(n.jsx)(d.a.Check,{type:"checkbox",label:"2015-2020",id:"2015,2020",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"2010-2014",id:"2010,2014",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"2005-2009",id:"2005,2009",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"2000-2004",id:"2000,2004",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"Before 2000!",id:"2000",onChange:b})]}),Object(n.jsx)(j.a,{children:Object(n.jsx)(d.a.Check,{type:"checkbox",label:"I don't mind!",id:"all",onChange:function(e){if(!0===e.target.checked)for(var t=0;t<o.current.childNodes.length;t++)o.current.childNodes[t].childNodes[0].checked=!1,o.current.childNodes[t].childNodes[0].disabled=!0;if(!1===e.target.checked)for(var n=0;n<o.current.childNodes.length;n++)o.current.childNodes[n].childNodes[0].disabled=!1;c(["all"])}})})]}),Object(n.jsx)("button",{className:"btn",type:"submit",ref:i,onClick:function(){s(!1),r(!0)},children:"Next"})]})},h=c(64),O=c.n(h)()("http://localhost:5000/"),x=function(e){var t=e.preferences,c=e.setPreferences;return Object(a.useEffect)((function(){O.on("joint_preferences",(function(e){c(e)}))}),[t]),Object(n.jsx)("div",{})};var f=function(e){var t=e.duration,c=e.setDuration,s=e.setInDuration,r=e.setInYear,i=Object(a.useRef)(),o=Object(a.useRef)(),b=function(e){return t.includes(e.target.id)?c(t.filter((function(t){return t!==e.target.id}))):c([].concat(Object(l.a)(t),[e.target.id]))};return Object(a.useEffect)((function(){t.length>0&&t.length<=2||t.includes("all")?i.current.disabled=!1:i.current.disabled=!0,console.log(t)})),Object(n.jsxs)("div",{className:"quiz",children:[Object(n.jsxs)("h1",{children:["How long do you want ",Object(n.jsx)("br",{})," the movie to be?"]}),Object(n.jsxs)(d.a,{className:"form-style",children:[Object(n.jsxs)(d.a.Group,{ref:o,children:[Object(n.jsx)(d.a.Check,{type:"checkbox",label:"More than 2.5 hours!",id:"150",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"Between 2 and 2.5 hours",id:"120,150",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"Between 1.5 and 2 hours",id:"90,120",onChange:b}),Object(n.jsx)(d.a.Check,{type:"checkbox",label:"Less than 1.5 hours",id:"90",onChange:b})]}),Object(n.jsx)(j.a,{children:Object(n.jsx)(d.a.Check,{type:"checkbox",label:"I don't mind!",id:"all",onChange:function(e){if(!0===e.target.checked)for(var t=0;t<o.current.childNodes.length;t++)o.current.childNodes[t].childNodes[0].checked=!1,o.current.childNodes[t].childNodes[0].disabled=!0;if(!1===e.target.checked)for(var n=0;n<o.current.childNodes.length;n++)o.current.childNodes[n].childNodes[0].disabled=!1;c(["all"])}})})]}),Object(n.jsx)("button",{className:"btn",type:"submit",ref:i,onClick:function(){s(!1),r(!0)},children:"Next"})]})},p=c(44),g=c.n(p),m=c(65);var v=function(e){var t,c=e.title,a=e.posterUrl,s=e.overview,r=e.handleClick,i=e.index,o=e.language,l="en"===(t=o)?"English":"es"===t?"Spanish":"fr"===t?"French":"ja"===t?"Japanese":"ko"===t?"Korean":"ru"===t?"Russian":"unknown",d=Math.floor(5*Math.random());return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"text-center cards",style:{backgroundColor:["#F3D7B2","#DBC4DF","#BADBCA","#96B6C5","#B76B66"][d],boxShadow:"3px 3px 1px ".concat(["#a3927c","#958199","#8fa69a","#60747d","#7d4d4a"][d])},children:[Object(n.jsx)("h1",{children:c}),Object(n.jsx)("img",{style:{height:"350px",width:"auto"},src:a}),Object(n.jsx)("p",{children:s}),Object(n.jsxs)("p",{children:["Original language: ",l]}),Object(n.jsxs)("div",{className:"btn-wrapper",children:[Object(n.jsx)("button",{className:"btn",onClick:function(){O.emit("yes",i),r()},children:" Yes!"}),Object(n.jsx)("button",{className:"btn",onClick:r,children:" No way."})]})]})})},y=(c(33),c.p+"static/media/modal1.2aba196f.png"),k=c.p+"static/media/modal2.8d20e5ed.png";var N=function(e){var t=e.title,c=e.poster,s=e.setShowModal,r=e.setShowThanks,l=Object(a.useState)(y),d=Object(o.a)(l,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){setTimeout((function(){return b(j===y?k:y)}),1e3)}),[j]),i.a.createPortal(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsxs)("div",{style:{zIndex:1e3,transform:"translate(-50%, -50%)",width:"450px",height:"90%",top:"50%",left:"50%",backgroundColor:"white",opacity:"1 !important",textAlign:"center",display:"flex",flexDirection:"column",borderRadius:"4%",alignItems:"center",padding:"20px 80px",position:"fixed"},children:[Object(n.jsx)("img",{className:"background-modal",src:j}),Object(n.jsx)("h1",{className:"title-font",children:" Match!!!"}),Object(n.jsx)("img",{style:{maxHeight:"60%",width:"auto"},alt:"poster",src:c}),Object(n.jsx)("h2",{className:"m-4",children:t}),Object(n.jsxs)("div",{className:"btn-wrapper",children:[Object(n.jsx)("button",{className:"btn",onClick:function(){return s(!1)},children:"Let's keep going"}),Object(n.jsx)("button",{className:"btn",onClick:function(){r(!0),s(!1)},children:"That's it!"})]})]})]}),document.getElementById("portal"))},C=c(121);var S=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.jsxs)("div",{className:"centered",children:[!c&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:" Thanks for playing!!!"}),Object(n.jsx)(C.a,{onClick:function(){return s(!0)},children:" Start Over "})]}),c&&Object(n.jsx)(R,{})]})};var w=function(e){var t=e.url,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],l=[],d=[],j=[],b=[],u=Object(a.useState)(0),h=Object(o.a)(u,2),x=h[0],f=h[1],p=Object(a.useState)([]),y=Object(o.a)(p,2),k=y[0],C=y[1],w=Object(a.useState)([]),I=Object(o.a)(w,2),M=I[0],D=I[1],F=Object(a.useState)([]),_=Object(o.a)(F,2),E=_[0],B=_[1],R=Object(a.useState)([]),A=Object(o.a)(R,2),G=A[0],T=A[1],z=Object(a.useState)(!1),P=Object(o.a)(z,2),Y=P[0],H=P[1],q=function(){var e=Object(m.a)(g.a.mark((function e(){var c,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch(t);case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,console.log(n),a=0;case 9:if(!(a<20)){e.next=21;break}return e.next=12,l.push(n.results[a].title);case 12:return e.next=14,d.push("https://image.tmdb.org/t/p/w440_and_h660_face"+n.results[a].poster_path);case 14:return e.next=16,j.push(n.results[a].overview);case 16:return e.next=18,b.push(n.results[a].original_language);case 18:a++,e.next=9;break;case 21:C(l),D(d),B(j),T(b);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){t.length>0&&q()}),[t]);var L=Object(a.useState)(null),J=Object(o.a)(L,2),W=J[0],K=J[1];return Object(a.useEffect)((function(){O.on("match",(function(e){i(!0),console.log("match :",e),K(e)}))}),[x]),Object(n.jsxs)("div",{children:[!0===r&&Object(n.jsx)(N,{title:k[W],poster:M[W],setShowModal:i,setShowThanks:H}),x<20&&C!==[]&&!Y&&Object(n.jsx)(v,{title:k[x],posterUrl:M[x],overview:E[x],language:G[x],index:x,handleClick:function(e){f(x+1)}}),(Y&&!r||20===x)&&Object(n.jsx)(S,{})]})};var I=function(e){var t=e.genre,c=e.durations,s=e.years,r=e.preferences,i=r.genres,d=r.duration,j=r.year,b=Object(a.useState)(""),u=Object(o.a)(b,2),h=u[0],O=u[1],x=[],f=[],p=[];return Object(a.useEffect)((function(){!function(){for(var e=0;e<t.length;e++)-1!==i.indexOf(t[e])&&x.push(t[e]);0===x.length&&(x=i.concat(t)).includes("all")&&x.splice(x.indexOf("all"),1),x=x.join("|"),console.log(x)}(),function(){var e=c.toString().concat(",").concat(d.toString()).split(",");e=e.filter((function(e){return/\d+/.test(e)})),f.push("&with_runtime.gte=".concat(Math.min.apply(Math,Object(l.a)(e)),"&with_runtime.lte=").concat(Math.max.apply(Math,Object(l.a)(e))))}(),function(){var e=s.toString().concat(",").concat(j.toString()).split(",");e=e.filter((function(e){return/\d+/.test(e)})),p.push("&primary_release_date.gte=".concat(Math.min.apply(Math,Object(l.a)(e)),"-01-01&primary_release_date.lte=").concat(Math.max.apply(Math,Object(l.a)(e)),"-01-01"))}(),O("https://api.themoviedb.org/3/discover/movie?api_key=".concat("8982e86b777795ad75ed8d30e1701d9c","&sort_by=popularity.desc&include_adult=false&with_genres=").concat(x).concat(f).concat(p))}),[]),Object(n.jsx)("div",{children:h?Object(n.jsx)(w,{url:h}):Object(n.jsx)("h1",{})})},M=c(66),D=c.n(M),F=c(67);var _=function(e){var t=e.setRoomModal,c=e.setIsStarting,s=e.setInGenre,r=Object(a.useState)(""),l=Object(o.a)(r,2),d=l[0],j=l[1],b=Object(a.useState)(""),u=Object(o.a)(b,2),h=u[0],x=u[1],f=Object(a.useState)(""),p=Object(o.a)(f,2),g=p[0],m=p[1];console.log(d);var v=function(){d?(O.emit("room",d),m(""),j(""),x(""),t(!1),c(!1),s(!0)):m("you must enter a valid code")};return i.a.createPortal(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"overlay"}),Object(n.jsxs)("div",{style:{zIndex:1e3,transform:"translate(-50%, -50%)",width:"450px",top:"50%",left:"50%",backgroundColor:"rgb(212,195,170)",opacity:"1 !important",textAlign:"center",display:"flex",flexDirection:"column",borderRadius:"4%",alignItems:"center",padding:"10px 80px",position:"fixed"},children:[Object(n.jsx)(F.a,{icon:"times-circle",className:"mdl-close",onClick:function(){return t(!1)}}),Object(n.jsx)("label",{children:"Enter your code"}),Object(n.jsx)("input",{onChange:function(e){return j(e.target.value)},value:d,type:"text",id:"room",onKeyPress:function(e){13===(e.which||e.charCode||e.keyCode)&&v()}}),Object(n.jsx)("button",{className:"btn",onClick:v,children:" Enter "}),Object(n.jsx)("button",{className:"btn",onClick:function(){x(D()()),console.log(h)},children:"I need a code"}),Object(n.jsx)("p",{children:h}),Object(n.jsx)("p",{className:"error",children:g})]})]}),document.getElementById("portal"))},E=c(118),B=c(119);c(114);var R=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!1),i=Object(o.a)(r,2),l=i[0],d=i[1],j=Object(a.useState)(!1),h=Object(o.a)(j,2),p=h[0],g=h[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),y=v[0],k=v[1],N=Object(a.useState)(!1),C=Object(o.a)(N,2),S=C[0],w=C[1],M=Object(a.useState)(!1),D=Object(o.a)(M,2),F=D[0],R=D[1],A=Object(a.useState)(!1),G=Object(o.a)(A,2),T=G[0],z=G[1],P=Object(a.useState)([]),Y=Object(o.a)(P,2),H=Y[0],q=Y[1],L=Object(a.useState)([]),J=Object(o.a)(L,2),W=J[0],K=J[1],U=Object(a.useState)([]),Q=Object(o.a)(U,2),V=Q[0],X=Q[1],Z=Object(a.useState)(""),$=Object(o.a)(Z,2),ee=$[0],te=$[1];return Object(a.useEffect)((function(){!0===F&&O.emit("preferences",{genres:H,duration:W,year:V})}),[F]),Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)("div",{className:"background-image"}),Object(n.jsx)(x,{setPreferences:te,preferences:ee,received:S,setReceived:w}),Object(n.jsxs)(E.a,{fluid:!0,children:[c&&Object(n.jsxs)("div",{className:"centered",children:[Object(n.jsx)("h1",{children:" What movie are we watching tonight?"}),Object(n.jsx)("button",{className:"btn",onClick:function(){z(!0)},children:"Start"})]}),T&&Object(n.jsx)(_,{setRoomModal:z,setInGenre:d,setIsStarting:s}),l&&Object(n.jsx)(b,{genres:H,setGenres:q,setInDuration:k,setInGenre:d}),y&&Object(n.jsx)(f,{duration:W,setDuration:K,setInYear:g,setInDuration:k}),p&&Object(n.jsx)(u,{setYear:X,year:V,setInYear:g,setIsFinished:R}),""!==ee&&F?Object(n.jsx)(I,{genre:H,durations:W,years:V,preferences:ee}):""===ee&&F?Object(n.jsxs)("div",{style:{margin:"20% auto auto auto",width:"30%",display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(n.jsx)(B.a,{animation:"border"}),Object(n.jsx)("h1",{style:{textAlign:"center",fontSize:"1em",marginTop:"30px"},children:"Waiting for the other player to complete the quiz"})]}):Object(n.jsx)(n.Fragment,{})]})]})},A=c(24),G=c(8),T=c(26),z=c(68);T.b.add(z.a);var P=function(){return Object(n.jsx)("div",{className:"App wawa",children:Object(n.jsxs)(A.a,{children:[Object(n.jsx)(G.a,{exact:!0,path:"/",component:R}),Object(n.jsx)(G.a,{path:"/genre",component:b}),Object(n.jsx)(G.a,{path:"/duration",component:f}),Object(n.jsx)(G.a,{path:"/year",component:u}),Object(n.jsx)(G.a,{path:"/results",component:I})]})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,122)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),Y()},33:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.67644af5.chunk.js.map